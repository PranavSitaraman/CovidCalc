<!DOCTYPE html>
<html lang="en">
<head>
    <title>COVID-19 Infection Probability Calculator</title>
    <link href="/static/base.css" rel="stylesheet" type="text/css">
    <link rel="shortcut icon" href="/static/corona.png">
</head>
<body>
  <h1>
      <center>
        COVID-19 Infection Probability Calculator
      </center>
      <br>
    </h1>
    <h2>
      <center>
        Made by Pranav Sitaraman and Yuvraj Lakhotia
      </center>
      <br>
    </h2>
    <img
         src="/static/corona.png" alt="Coronavirus Spike Protein" height=256px width=256px>
 <h3>
      With our AI algorithm utilizing neural networks and full-scale simulation runs, you can analyze your risk of contracting COVID-19 if someone in your class was infected. We will be able to calculate a realistic chance of you contracting COVID-19 depending on risk factors such as class size and exposure time. This will assist with the safety protocols of in-person learning and will produce a better learning environment for all students.
  </h3>
  <br>
  <h2>Fill out this short survey to find the probability that you have contracted COVID-19 from exposure to a student in school</h2>
    <div id = "articles">
        <form class="input">
            <div id="row1">
              <br>
                <div id = "date-of-infection-wrapper">
                    <select id="date-of-infection">
                        <option value="-1">How many days ago was the student infected?</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                    </select>
                </div>
                <br>
                <div id = "date-of-contact-wrapper">
                    <select id="date-of-contact">
                        <option value="-1">How many days ago were you in last contact with the student?</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                    </select>
                </div>
                <br>
                <div id = "number-of-classes-wrapper">
                    <select id="number-of-classes">
                        <option value="-1">How many classes do you have in school?</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                    </select>
                </div>
                <br>
                <div id = "number-of-students-wrapper">
                    <select id="number-of-students">
                        <option value="-1">How many students are in each of your classes?</option>
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="15">15</option>
                        <option value="20">20</option>
                        <option value="25">25</option>
                        <option value="30">30</option>
                        <option value="35">35</option>
                        <option value="40">40</option>
                        <option value="45">45</option>
                        <option value="50">50</option>
                        <option value="55">55</option>
                        <option value="60">60</option>
                        <option value="65">65</option>
                        <option value="70">70</option>
                        <option value="75">75</option>
                        <option value="80">80</option>
                        <option value="85">85</option>
                        <option value="90">90</option>
                        <option value="95">95</option>
                        <option value="100">100</option>
                    </select>
                </div>
                <br>
                <div id = "number-of-shared-classes-wrapper">
                  <select id="number-of-shared-classes">
                      <option value="-1">How many classes do you share with the infected student?</option>
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                      <option value="6">6</option>
                      <option value="7">7</option>
                      <option value="8">8</option>
                      <option value="9">9</option>
                      <option value="10">10</option>
                      <option value="11">11</option>
                      <option value="12">12</option>
                      <option value="13">13</option>
                      <option value="14">14</option>
                      <option value="15">15</option>
                      <option value="16">16</option>
                      <option value="17">17</option>
                      <option value="18">18</option>
                      <option value="19">19</option>
                      <option value="20">20</option>
                  </select>
                </div>
            </div>
            <br>
            <div id="button-wrapper"><button type="button" onclick="xmlrequest()">Click and wait for the neural network to finish running!</button></div>
        </form>
        <br>
        <div id = "add"></div>
        <br>
    </div>
  <h2>Fill out this short survey to find your expected mortality rate from contracting COVID-19</h2>
    <div id = "articles">
        <form class="input">
            <div id="row2">
              <br>
                <div id = "gender-wrapper">
                    <select id="gender">
                        <option value="-1">What is your gender?</option>
                        <option value="1">Male</option>
                        <option value="2">Female</option>
                    </select>
                </div>
                <br>
                <div id = "age-wrapper">
                    <select id="age">
                        <option value="-1">What age group are you in?</option>
                        <option value="1">Under 1 year</option>
                        <option value="2">1-4 years</option>
                        <option value="3">5-14 years</option>
                        <option value="4">15-24 years</option>
                        <option value="5">25-34 years</option>
                        <option value="6">35-44 years</option>
                        <option value="7">45-54 years</option>
                        <option value="8">55-64 years</option>
                        <option value="9">65-74 years</option>
                        <option value="10">75-84 years</option>
                        <option value="11">85 years and older</option>
                    </select>
                </div>
                <br>
                <div id = "race-wrapper">
                    <select id="race">
                        <option value="-1">What is your race?</option>
                        <option value="1">White</option>
                        <option value="2">Black</option>
                        <option value="3">Asian</option>
                        <option value="4">Latino</option>
                        <option value="5">American Indian/Alaskan Native</option>
                        <option value="6">Native Hawaiian and Pacific Islander</option>
                        <option value="7">Multi-Racial</option>
                    </select>
                </div>
                <br>
                <div id = "state-wrapper">
                    <select id="state">
                        <option value="-1">What state do you live in?</option>
                        <option value="1">Alabama</option>
                        <option value="2">Alaska</option>
                        <option value="3">Arizona</option>
                        <option value="4">Arkansas</option>
                        <option value="5">California</option>
                        <option value="6">Colorado</option>
                        <option value="7">Connecticut</option>
                        <option value="8">Delaware</option>
                        <option value="9">Florida</option>
                        <option value="10">Georgia</option>
                        <option value="11">Hawaii</option>
                        <option value="12">Idaho</option>
                        <option value="13">Illinois</option>
                        <option value="14">Indiana</option>
                        <option value="15">Iowa</option>
                        <option value="16">Kansas</option>
                        <option value="17">Kentucky</option>
                        <option value="18">Louisiana</option>
                        <option value="19">Maine</option>
                        <option value="20">Maryland</option>
                        <option value="21">Massachusetts</option>
                        <option value="22">Michigan</option>
                        <option value="23">Minnesota</option>
                        <option value="24">Mississippi</option>
                        <option value="25">Missouri</option>
                        <option value="26">Montana</option>
                        <option value="27">Nebraska</option>
                        <option value="28">Nevada</option>
                        <option value="29">New Hampshire</option>
                        <option value="30">New Jersey</option>
                        <option value="31">New Mexico</option>
                        <option value="32">New York</option>
                        <option value="33">North Carolina</option>
                        <option value="34">North Dakota</option>
                        <option value="35">Ohio</option>
                        <option value="36">Oklahoma</option>
                        <option value="37">Oregon</option>
                        <option value="38">Pennsylvania</option>
                        <option value="39">Rhode Island</option>
                        <option value="40">South Carolina</option>
                        <option value="41">South Dakota</option>
                        <option value="42">Tennessee</option>
                        <option value="43">Texas</option>
                        <option value="44">Utah</option>
                        <option value="45">Vermont</option>
                        <option value="46">Virginia</option>
                        <option value="47">Washington</option>
                        <option value="48">West Virginia</option>
                        <option value="49">Wisconsin</option>
                        <option value="50">Wyoming</option>
                    </select>
                </div>
            </div>
            <br>
            <div id="button-wrapper"><button type="button" onclick="xmlrequest2()">Click and wait for the AI to finish running!</button></div>
        </form>
        <br>
        <div id = "add2"></div>
        <br>
    </div>
    <script>
        function xmlrequest()
        {
          var xmlHttp = new XMLHttpRequest();
          infectiondate = document.getElementById("date-of-infection").value;
          contactdate = document.getElementById("date-of-contact").value;
          classnum = document.getElementById("number-of-classes").value;
          studentnum = document.getElementById("number-of-students").value;
          sharedclassnum = document.getElementById("number-of-shared-classes").value;
          if (infectiondate == "-1" || contactdate == "-1" || classnum == "-1" || studentnum == "-1" || sharedclassnum == "-1" || Number(contactdate) >= Number(infectiondate) || Number(sharedclassnum) >= Number(classnum))
          {
            m = '<div class = "article-box"><div class = "article">'
            m += '<h2 class="description">Please enter a valid input!</h2></div></div>'
              document.getElementById("add").innerHTML = m;
          }
          else
          {
            var send = document.location.href + infectiondate + "/" + contactdate + "/" + classnum + "/" + studentnum + "/" + sharedclassnum;
            xmlHttp.open("GET", send, false);
            xmlHttp.send(null);
            var response = xmlHttp.responseText;
            m = '<div class = "article-box"><div class = "article">';
            m += '<h2 class="description">Probability: ' + response + '%.</h2>';
            m += '</div></div>';
            document.getElementById("add").innerHTML = m;
          }
        }
        function xmlrequest2()
        {
          var xmlHttp = new XMLHttpRequest();
          gender = document.getElementById("gender").value;
          age = document.getElementById("age").value;
          race = document.getElementById("race").value;
          state = document.getElementById("state").value;
          if (gender == "-1" || age == "-1" || race == "-1" || state == "-1")
          {
            m = '<div class = "article-box"><div class = "article">';
            m += '<h2 class="description">Please enter a valid input!</h2></div></div>';
            document.getElementById("add2").innerHTML = m;
          }
          else
          {
            var send = document.location.href + "mortality/" + gender + "/" + age + "/" + race + "/" + state;
            xmlHttp.open("GET", send, false);
            xmlHttp.send(null);
            var response = xmlHttp.responseText;
            m = '<div class = "article-box"><div class = "article">';
            m += '<h2 class="description">Mortality Rate: ' + response + '.</h2>';
            m += '</div></div>';
            document.getElementById("add2").innerHTML = m;
          }
        }
    </script>
</body>
</html>
